<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Python script by program.think@gmail.com" />
<meta name="provider" content="program-think.blogspot.com" />
<link type="text/css" rel="stylesheet" href="../../css/program-think.css" />
<title>博客评论功能重要升级——留言或围观都【无需】重刷页面 - 编程随想的博客</title>
</head>
<body>
<div id="main" style="width:100%;">
<h1><a href="../../index.html" title="回到首页">博客评论功能重要升级——留言或围观都【无需】重刷页面</a></h1>
<div class="post-info"><span class="date-header">2016-08-31</span><a href="../../tags/E58D9AE5AEA2E9809AE5918A.html" class="tag">博客通告</a> </div>
<hr/>
<div class="post">
&#12288;&#12288;距离上一次界面升级，已经过了一年多。最近好多天，俺都没有发新的博文，就是在忙着搞“评论区的新功能”。<br />&#12288;&#12288;为了实现这次的新功能，俺重构了很多代码，最近几天也一直在自测。<br />&#12288;&#12288;今天发这篇博文，除了跟大伙儿打个招呼（以免有读者担心俺被跨省），顺便也介绍一下新功能的好处。<a name='more'></a><!--program-think--><br /><br /><h2>★原评论区的缺点</h2><br />&#12288;&#12288;这里主要提两个缺点：<br />&#12288;&#12288;1.<br />&#12288;&#12288;原先 Blogspot 的评论系统比较土鳖，每次发完一条留言/评论，都要重新刷整个页面。如果页面中的评论已经很多，那么在下一次重新载入页面的时候，会等得比较久。<br />&#12288;&#12288;2.<br />&#12288;&#12288;如果要看别人在某篇博文下刚刚发出的评论，也需要重新刷整个页面。对于评论很多的博文，重载页面同样要等。<br /><br /><h2>★新功能介绍</h2><br />&#12288;&#12288;这次的新功能，简而言之就是：采用 AJAX 风格重新改造评论区（AJAX 是一个编程界的行话，通俗说就是网页无需重刷，就可以实现各种 GUI 交互）。<br />&#12288;&#12288;采用 AJAX 风格，至少会有如下几个好处：<br /><br />&#12288;&#12288;对于发帖人<br />&#12288;&#12288;当你点击“回复XX楼”，会弹出一个新窗口（对于某些浏览器，会新开一个标签页），你在其中输入评论内容，写完后点击“发布”，该窗口会自动关闭。然后，原先的页面会在2-3秒内自动显示你刚才发布的留言/评论。<br /><br />&#12288;&#12288;对于围观者<br />&#12288;&#12288;当你打开某篇博文的页面之后，就【不需要】再重新刷新页面了。别人新发布的评论，会自动出现在评论区。新出现的评论，可以通过背景色区分出来。<br /><br />&#12288;&#12288;对于俺<br />&#12288;&#12288;维护这个博客已经快8年了，耗时较多的事情，大概就是“回复评论”和“回复邮件”。<br />&#12288;&#12288;对于原先的评论系统，俺必须写一条，发一条，然后等页面重刷，然后再写下一条...这样一来，时间会拖得很长。<br />&#12288;&#12288;如今这个新功能，（由于不用重刷页面）可以大大提升俺回复评论的效率。效率提升了，俺回帖的积极性也会提升 :)<br /><br /><h2>★新功能的注意事项</h2><br />&#12288;&#12288;某些浏览器或者某些过滤广告的浏览器扩展，会“禁用弹出窗口”。如果你在评论区点击了“回复XX楼”的链接，但是没反应，估计就是被禁了。这时候你需要去设置一下——让俺博客所在的域名允许弹窗。<br /><br /><h2>★欢迎大伙儿尝鲜并反馈</h2><br />&#12288;&#12288;由于这次的改动比较大，有可能会有一些 Bug 俺没有自测出来。甚至还有可能把原先的某些功能改坏了。<br />&#12288;&#12288;所以，就需要热心的读者帮忙留意一下。你如果发现了 Bug，可以在评论区留言告知俺。<br />&#12288;&#12288;当然，如果你对这次的升级有其他的意见或建议，也欢迎到评论区留言告知俺。<br /><br /><br /><b>俺博客上，和本文相关的帖子（需翻墙）</b>：<br /><a href="../../2015/04/custom-blogger-comment.html">博客评论功能升级（智能贴图、图片代理）——兼谈“Web 图片的隐私问题及防范”</a><br /><a href="../../2014/12/custom-blogger-comment.html">博客评论功能升级（“未读”状态、按时间过滤）——兼谈“为啥俺不用其它博客平台”</a><br /><a href="../../2014/09/custom-blogger-comment.html">博客评论功能升级（增加“留言过滤”、“200条之后自动加载”等）</a><br /><a href="../../2012/09/custom-blogger-comment.html">博客评论功能升级（引入 BBCode 语法），顺便分享一下实现方法</a><div class="blogger-post-footer">
</div>
<hr/>
<div class="copyright">
<h4>版权声明</h4>
本博客所有的原创文章，作者皆保留版权。转载必须包含本声明，保持本文完整，并以超链接形式注明作者<a href="mailto:program.think@gmail.com">编程随想</a>和本文原始网址：<br>
<a href="https://program-think.blogspot.com/2016/08/custom-blogger-comment.html">https://program-think.blogspot.com/2016/08/custom-blogger-comment.html</a>
</div>
</div>
</body>
</html>
